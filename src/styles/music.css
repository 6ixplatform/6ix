/* Theme-aware glass */
.music-modal__backdrop {
    position: fixed;
    inset: 0;
    z-index: 10060;
    background: color-mix(in oklab, var(--th-bg) 70%, transparent);
    backdrop-filter: blur(10px) saturate(120%);
}

.music-modal {
    position: fixed;
    z-index: 10061;
    inset: 8% 10% auto 10%;
    background: var(--surface, color-mix(in oklab, var(--th-bg) 92%, var(--th-text)));
    color: var(--th-text);
    border: 1px solid var(--th-border);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 20px 80px rgba(0, 0, 0, .35);
    max-height: 84vh;
    display: grid;
    grid-template-rows: auto 1fr auto;
}

@media (max-width: 900px) {
    .music-modal {
        inset: 4% 3% auto 3%;
    }
}

/* tiny spinner square for the pill cover */
.music-spinner {
    position: relative;
    width: 24px;
    height: 24px;
    border-radius: 6px;
    overflow: hidden;
    background: color-mix(in oklab, var(--th-text) 12%, transparent);
}

.music-spinner::after {
    content: "";
    position: absolute;
    inset: 2px;
    border-radius: 4px;
    border: 2px solid color-mix(in oklab, var(--th-text) 55%, transparent);
    border-right-color: transparent;
    animation: spin .8s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* real audio visualizer canvas */
.music-wave {
    display: block;
    width: 120px;
    height: 16px;
    opacity: .9;
}

/* grid of songs */
.music-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 12px;
}

.music-card {
    background: color-mix(in oklab, var(--th-bg) 88%, var(--th-text));
    border: 1px solid var(--th-border);
    border-radius: 12px;
    overflow: hidden;
}

/* controls */
.icon-btn {
    height: 28px;
    width: 28px;
    border-radius: 10px;
    display: grid;
    place-items: center;
}

.icon-btn:hover {
    background: color-mix(in oklab, var(--th-text) 10%, transparent);
}